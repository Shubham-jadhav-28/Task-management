<div class="container mt-5">
  <!-- Header Row -->
  <div
    class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-2"
  >
    <h2 class="text-primary">Project Dashboard</h2>
    <div>
      <a
        routerLink="/create-project"
        (click)="AddProject()"
        class="btn btn-primary"
      >
        <i class="bi bi-plus-circle"></i> Create New Project
      </a>
    </div>
  </div>

  <!-- Welcome Message -->
  <div *ngIf="isLoggedIn()" class="alert text-center rounded-pill shadow-sm">
    <h4 class="mb-0">Welcome, {{ getUsername() }}!</h4>
  </div>

  <!-- Project Table -->
  <div class="table-responsive mt-4" *ngIf="!selectedProject">
    <table class="table table-hover table-bordered align-middle shadow-sm">
      <thead class="table-light">
        <tr class="text-center">
          <th>Title</th>
          <th>Description</th>
          <th>Created By</th>
          <th>Manager</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Team Members</th>
          <th>Due Date</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let project of userProjects"
          (click)="viewProjectDetails(project)"
          class="table-row text-center"
          style="cursor: pointer"
        >
          <td>{{ project.title }}</td>
          <td>{{ project.description }}</td>
          <td>{{ project.createdBy }}</td>
          <td>{{ project.manager }}</td>
          <td>{{ project.startDate }}</td>
          <td>{{ project.endDate }}</td>
          <td>{{ project.teamMembers }}</td>
          <td>{{ project.dueDate }}</td>
          <td>
            <button
              class="btn btn-outline-info btn-sm me-1"
              (click)="viewDetail(); $event.stopPropagation()"
            >
              <i class="bi bi-eye"></i>
            </button>
            <button
              class="btn btn-outline-success btn-sm me-1"
              (click)="AddTask(); $event.stopPropagation()"
            >
              <i class="bi bi-plus"></i>
            </button>
            <button
              class="btn btn-outline-danger btn-sm"
              (click)="deleteProject(project); $event.stopPropagation()"
            >
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
